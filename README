== How SystemMonitor works

# Install SystemMonitor from GitHub http://github.com/iboard
  Clone-URL http://git.iboard.cc/git/system_monitor/
# Edit <code>config/environment.rb</code> and define your monitors and asserts like shown below
# Edit <code>config/environments/production.rb, development.rb</code> - see sample.rb-files
# Make sure your server can access the remote hosts through ssh with ssh-keys without password
# Start the server with script/server and call http://yourserver:yourport/

== Definitions

  Edit your _environment.rb_ and add your definitions there...

== SystemMonitor

  remotehost, name, command, parameters
  
  _command_ will be executed by ssh using _remotehost_.
  The output of this ssh-request will be displayed


== RemoteAssert

    remotehost, name, command, word, assert
    
    _ssh remotehost command_ will be execuded.
    The output will be split by 'spaces' and word number <em>word</em> will be returned as value. (first word is 0).
    This _value_ will be used as FLOAT,INTEGER,STRING in the assert-command.


== Examples

    MY_MONITORS=[
      SystemMonitor::SysMonitor.new('root@your.server', 'Disk usage YourServer', 'df', '-h|grep sd'),
      SystemMonitor::SysMonitor.new('root@your.server', 'Syslod YourServer', 'uptime', ''),
      SystemMonitor::SysMonitor.new('root@your.server', 'Mailqueue YourServer', 'mailq', '|tail -1'),

      SystemMonitor::SysMonitor.new('root@s1.iboard.cc', 'Disk usage s1', 'df', '-h|grep md'),
      SystemMonitor::SysMonitor.new('root@s1.iboard.cc', 'Syslod S1', 'uptime', ''),

      SystemMonitor::SysMonitor.new('root@xmail.wwedu.com', 'Disk usage XMAIL', 'df', '-h|grep disk'),
      SystemMonitor::SysMonitor.new('root@xmail.wwedu.com', 'Mailqueue XMAIL', 'mailq', '|tail -1'),

      SystemMonitor::SysMonitor.new('root@dwarf-1.wwedu.com', 'Mailqueue dwarf-1', 'mailq', '|tail -1')
    ]

    REMOTE_ASSERTS=[
      SystemMonitor::RemoteAssert.new('root@your.server', 'Root partition usage YourServer', 
        'df|grep "/dev/sda2"', 4, 'INTEGER < 80 && STRING != ""'),
      SystemMonitor::RemoteAssert.new('root@s1.iboard.cc', 'Root partition usage s1', 
        'df|grep "/dev/md2"', 4, 'INTEGER < 80 && STRING != ""'),
      SystemMonitor::RemoteAssert.new('root@your.server', 'Sysload YourServer', 'uptime',10,'FLOAT < 1.00'),
      SystemMonitor::RemoteAssert.new('root@s1.iboard.cc', 'Sysload s1', 'uptime',10,'FLOAT < 1.00'),
      SystemMonitor::RemoteAssert.new('root@xmail.wwedu.com', 'XMAIL Mailqueue', 
        'mailq|tail -1',4,'INTEGER < 30 && STRING != ""'),
      SystemMonitor::RemoteAssert.new('root@dwarf-1.wwedu.com', 'dwarf-1 Mailqueue', 
        'mailq|tail -1',4,'INTEGER < 30 && STRING != ""'),
      SystemMonitor::RemoteAssert.new('root@your.server', 'YourServer Mailqueue', 
        'mailq|tail -1',4,'INTEGER < 30 && STRING != ""')
    ]

